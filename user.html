<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User API Documentation</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">
  <div class="container mx-auto p-6 max-w-4xl">
    <h1 class="text-3xl font-bold mb-6 text-center text-gray-800">User API Documentation</h1>
    <p class="text-gray-600 mb-8 text-center">
      Interact with the Authentication API endpoints hosted at 
      <a id="api-url" href="#" class="text-blue-600 hover:underline" target="_blank"></a>
    </p>
    <p class="text-gray-600 mb-8 text-center"><a href="index.html" class="text-blue-600 hover:underline">Back to API Testing Hub</a></p>

    <!-- Add New User -->
    <div class="bg-white shadow-md rounded-lg p-6 mb-8">
      <h2 class="text-2xl font-semibold mb-4 text-gray-700">1. Add New User</h2>
      <p class="text-gray-600 mb-4"><strong>Endpoint:</strong> <code class="bg-gray-200 px-2 py-1 rounded">POST /users</code></p>
      <p class="text-gray-600 mb-4"><strong>Description:</strong> Creates a new user in the system. No authentication required.</p>
      <form id="add-user-form" class="space-y-4">
        <div>
          <label for="username" class="block text-sm font-medium text-gray-700">Username *</label>
          <input type="text" id="username" name="username" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
        </div>
        <div>
          <label for="email" class="block text-sm font-medium text-gray-700">Email *</label>
          <input type="email" id="email" name="email" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
        </div>
        <div>
          <label for="password" class="block text-sm font-medium text-gray-700">Password * (min 6 characters)</label>
          <input type="password" id="password" name="password" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
        </div>
        <div>
          <label for="full_name" class="block text-sm font-medium text-gray-700">Full Name</label>
          <input type="text" id="full_name" name="full_name" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div>
          <label for="phone_number" class="block text-sm font-medium text-gray-700">Phone Number</label>
          <input type="text" id="phone_number" name="phone_number" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">Submit</button>
      </form>
      <div id="add-user-response" class="mt-4 text-sm"></div>
    </div>

    <!-- Get User by ID -->
    <div class="bg-white shadow-md rounded-lg p-6 mb-8">
      <h2 class="text-2xl font-semibold mb-4 text-gray-700">2. Get User by ID</h2>
      <p class="text-gray-600 mb-4"><strong>Endpoint:</strong> <code class="bg-gray-200 px-2 py-1 rounded">GET /users/&lt;user_id&gt;</code></p>
      <p class="text-gray-600 mb-4"><strong>Description:</strong> Retrieves details of a specific user by their ID. Requires authentication (user or admin).</p>
      <form id="get-user-by-id-form" class="space-y-4">
        <div>
          <label for="user_id" class="block text-sm font-medium text-gray-700">User ID *</label>
          <input type="number" id="user_id" name="user_id" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
        </div>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">Fetch User</button>
      </form>
      <div id="get-user-by-id-response" class="mt-4 text-sm"></div>
    </div>

    <!-- Get User by Email -->
    <div class="bg-white shadow-md rounded-lg p-6 mb-8">
      <h2 class="text-2xl font-semibold mb-4 text-gray-700">3. Get User by Email</h2>
      <p class="text-gray-600 mb-4"><strong>Endpoint:</strong> <code class="bg-gray-200 px-2 py-1 rounded">GET /users/email/&lt;email&gt;</code></p>
      <p class="text-gray-600 mb-4"><strong>Description:</strong> Retrieves details of a specific user by their email. Requires authentication (user or admin).</p>
      <form id="get-user-by-email-form" class="space-y-4">
        <div>
          <label for="get-email" class="block text-sm font-medium text-gray-700">Email *</label>
          <input type="email" id="get-email" name="email" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
        </div>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">Fetch User</button>
      </form>
      <div id="get-user-by-email-response" class="mt-4 text-sm"></div>
    </div>

    <!-- Get User by Username -->
    <div class="bg-white shadow-md rounded-lg p-6 mb-8">
      <h2 class="text-2xl font-semibold mb-4 text-gray-700">4. Get User by Username</h2>
      <p class="text-gray-600 mb-4"><strong>Endpoint:</strong> <code class="bg-gray-200 px-2 py-1 rounded">GET /users/username/&lt;username&gt;</code></p>
      <p class="text-gray-600 mb-4"><strong>Description:</strong> Retrieves details of a specific user by their username. Requires authentication (user or admin).</p>
      <form id="get-user-by-username-form" class="space-y-4">
        <div>
          <label for="get-username" class="block text-sm font-medium text-gray-700">Username *</label>
          <input type="text" id="get-username" name="username" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
        </div>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">Fetch User</button>
      </form>
      <div id="get-user-by-username-response" class="mt-4 text-sm"></div>
    </div>

    <!-- Update User -->
    <div class="bg-white shadow-md rounded-lg p-6 mb-8">
      <h2 class="text-2xl font-semibold mb-4 text-gray-700">5. Update User</h2>
      <p class="text-gray-600 mb-4"><strong>Endpoint:</strong> <code class="bg-gray-200 px-2 py-1 rounded">PUT /users/&lt;user_id&gt;</code></p>
      <p class="text-gray-600 mb-4"><strong>Description:</strong> Updates details of an existing user. Requires authentication (user or admin). Only admins can update <code>is_admin</code>.</p>
      <form id="update-user-form" class="space-y-4">
        <div>
          <label for="update-user-id" class="block text-sm font-medium text-gray-700">User ID *</label>
          <input type="number" id="update-user-id" name="user_id" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
        </div>
        <div>
          <label for="update-full_name" class="block text-sm font-medium text-gray-700">Full Name</label>
          <input type="text" id="update-full_name" name="full_name" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div>
          <label for="update-phone_number" class="block text-sm font-medium text-gray-700">Phone Number</label>
          <input type="text" id="update-phone_number" name="phone_number" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div>
          <label for="update-is_admin" class="block text-sm font-medium text-gray-700">Is Admin (Admin Only)</label>
          <input type="checkbox" id="update-is_admin" name="is_admin" class="mt-1">
        </div>
        <div>
          <label for="update-password" class="block text-sm font-medium text-gray-700">New Password (min 6 characters)</label>
          <input type="password" id="update-password" name="password" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">Update User</button>
      </form>
      <div id="update-user-response" class="mt-4 text-sm"></div>
    </div>

    <!-- Delete User -->
    <div class="bg-white shadow-md rounded-lg p-6 mb-8">
      <h2 class="text-2xl font-semibold mb-4 text-gray-700">6. Delete User</h2>
      <p class="text-gray-600 mb-4"><strong>Endpoint:</strong> <code class="bg-gray-200 px-2 py-1 rounded">DELETE /users/&lt;user_id&gt;</code></p>
      <p class="text-gray-600 mb-4"><strong>Description:</strong> Deletes a user by their ID. Requires admin privileges.</p>
      <form id="delete-user-form" class="space-y-4">
        <div>
          <label for="delete-user-id" class="block text-sm font-medium text-gray-700">User ID *</label>
          <input type="number" id="delete-user-id" name="user_id" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
        </div>
        <button type="submit" class="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700">Delete User</button>
      </form>
      <div id="delete-user-response" class="mt-4 text-sm"></div>
    </div>

    <!-- Get All Users -->
    <div class="bg-white shadow-md rounded-lg p-6 mb-8">
      <h2 class="text-2xl font-semibold mb-4 text-gray-700">7. Get All Users (Admin Only)</h2>
      <p class="text-gray-600 mb-4"><strong>Endpoint:</strong> <code class="bg-gray-200 px-2 py-1 rounded">GET /users</code></p>
      <p class="text-gray-600 mb-4"><strong>Description:</strong> Retrieves a paginated list of all users. Requires admin privileges.</p>
      <form id="get-all-users-form" class="space-y-4">
        <div>
          <label for="page" class="block text-sm font-medium text-gray-700">Page (default: 1)</label>
          <input type="number" id="page" name="page" min="1" value="1" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div>
          <label for="per_page" class="block text-sm font-medium text-gray-700">Per Page (default: 20)</label>
          <input type="number" id="per_page" name="per_page" min="1" value="20" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">Fetch Users</button>
      </form>
      <div id="get-all-users-response" class="mt-4 text-sm"></div>
    </div>

    <!-- Validate User Password -->
    <div class="bg-white shadow-md rounded-lg p-6 mb-8">
      <h2 class="text-2xl font-semibold mb-4 text-gray-700">8. Validate User Password</h2>
      <p class="text-gray-600 mb-4"><strong>Endpoint:</strong> <code class="bg-gray-200 px-2 py-1 rounded">POST /users/&lt;user_id&gt;/validate-password</code></p>
      <p class="text-gray-600 mb-4"><strong>Description:</strong> Validates a user's password. Requires authentication (user or admin).</p>
      <form id="validate-password-form" class="space-y-4">
        <div>
          <label for="validate-user-id" class="block text-sm font-medium text-gray-700">User ID *</label>
          <input type="number" id="validate-user-id" name="user_id" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
        </div>
        <div>
          <label for="validate-password" class="block text-sm font-medium text-gray-700">Password *</label>
          <input type="password" id="validate-password" name="password" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
        </div>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">Validate Password</button>
      </form>
      <div id="validate-password-response" class="mt-4 text-sm"></div>
    </div>

    <!-- Search Users -->
    <div class="bg-white shadow-md rounded-lg p-6 mb-8">
      <h2 class="text-2xl font-semibold mb-4 text-gray-700">9. Search Users (Admin Only)</h2>
      <p class="text-gray-600 mb-4"><strong>Endpoint:</strong> <code class="bg-gray-200 px-2 py-1 rounded">GET /users/search</code></p>
      <p class="text-gray-600 mb-4"><strong>Description:</strong> Searches for users by username or email (partial match). Requires admin privileges.</p>
      <form id="search-users-form" class="space-y-4">
        <div>
          <label for="search-query" class="block text-sm font-medium text-gray-700">Search Query (Username or Email) *</label>
          <input type="text" id="search-query" name="q" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm" required>
        </div>
        <div>
          <label for="search-page" class="block text-sm font-medium text-gray-700">Page (default: 1)</label>
          <input type="number" id="search-page" name="page" min="1" value="1" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <div>
          <label for="search-per_page" class="block text-sm font-medium text-gray-700">Per Page (default: 20)</label>
          <input type="number" id="search-per_page" name="per_page" min="1" value="20" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
        </div>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">Search Users</button>
      </form>
      <div id="search-users-response" class="mt-4 text-sm"></div>
    </div>

    <!-- Clear All Users -->
    <div class="bg-white shadow-md rounded-lg p-6 mb-8">
      <h2 class="text-2xl font-semibold mb-4 text-gray-700">10. Clear All Users (Admin Only)</h2>
      <p class="text-gray-600 mb-4"><strong>Endpoint:</strong> <code class="bg-gray-200 px-2 py-1 rounded">DELETE /users/clear-all</code></p>
      <p class="text-gray-600 mb-4"><strong>Description:</strong> Deletes all users from the database. Requires admin privileges. <strong>Warning:</strong> This is a destructive operation.</p>
      <form id="clear-all-users-form" class="space-y-4">
        <button type="submit" class="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700">Clear All Users</button>
      </form>
      <div id="clear-all-users-response" class="mt-4 text-sm"></div>
    </div>

    <!-- Get Total Users -->
    <div class="bg-white shadow-md rounded-lg p-6 mb-8">
      <h2 class="text-2xl font-semibold mb-4 text-gray-700">11. Get Total Users (Admin Only)</h2>
      <p class="text-gray-600 mb-4">
        <strong>Endpoint:</strong>
        <code class="bg-gray-200 px-2 py-1 rounded">GET /users/number</code>
      </p>
      <p class="text-gray-600 mb-4">
        <strong>Description:</strong> Returns the total number of users in the system. Requires admin privileges.
      </p>
      <form id="get-total-users-form" class="space-y-4">
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">
          Get Total Users
        </button>
      </form>
      <div id="get-total-users-response" class="mt-4 text-sm"></div>
    </div>
  </div>
  <script src="/js/config.js"></script>
  <script src="/js/user.js"></script>
</body>
</html>